{% load static %}
<!DOCTYPE html>
<html>
    <head>
        <!-- Global site tag (gtag.js) - Google Analytics --> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-178045609-1"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-178045609-1'); </script>
        <meta name="viewport" content="width=device-width, initial scale=1.0"/>
        <link href='https://fonts.googleapis.com/css?family=Raleway' rel='stylesheet'>
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link rel="shortcut icon" href="{% static 'logo.svg' %}" type="image/svg+xml">


	<link  href="{% static 'upload_profile_pic.css' %}"  rel="stylesheet">

        <title>Upload Picture</title>
    </head>

    <body>

        <nav class="top-navbar">
            <h1 class="webname">Zedway</h1>
        </nav>


        <div class="form-container">
	{% if prev_path == "/accounts/update/" %}
            <form id="form2" class="input-section" method='post' action='/update-profile-u/' enctype='multipart/form-data'>
	{% else %}
            <form id="form2" class="input-section" method='post' action='/update-profile/' enctype='multipart/form-data'>
	{% endif %}
                {% csrf_token %}
                <h3>Upload Picture</h3>

                <input name='image' type="file" id="accept-file" accept=".jpeg, .png, .jpg" hidden="hidden" required />
                <div class="file-input">
                    <button type="button" id="custom">Choose Picture</button>
                    <span id="button-text">Please choose a file.</span>
                </div>
                <input type="submit" value="Post!" class="next-button">
            </form>
        </div>
        </div>


        <nav class="navbar">
            <a href="/" class="navlink active">
               <span class="material-icons">dashboard</span>
              <span class="nav-text"><strong>Dashboard</strong></span>
            </a>
          
            <a href="/explore" class="navlink">
            <span class="material-icons"> explore </span>
            <span class="nav-text"><strong> Explore </strong></span>
            </a>
          
            <a href="/search" class="navlink">
              <span class="material-icons"> search </span>
              <span class="nav-text"><strong>Search </strong></span>
            </a>
          
            <a href="/accounts/{{ user.userprofile.slug }}" class="navlink">
              <span class="material-icons"> person_pin </span>
              <span class="nav-text"><strong>Profile</strong></span>
            </a>
          </nav>
         
          <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
          <script src="{% static 'inputtags.js' %}"></script>
          <script type="text/javascript">
            $(document).on('click', 'nav a',  function(){
                $(this).addClass('active').siblings().removeClass('active')
            })


            const actualButton = document.getElementById("accept-file");
            const newButton = document.getElementById("custom");
            const buttonText = document.getElementById("button-text");

            newButton.addEventListener("click", function() {
              actualButton.click()
            });

            actualButton.addEventListener("change", function(){
              if (actualButton.value) {
                buttonText.innerHTML = actualButton.value.match( /[\/\\]([\w\d\s\.\-\(\)]+)$/)[1];
              } else  {
                buttonText.innerHTML = "Please choose a file.";
              }
            })
           
           </script>


    </body>
</html>
